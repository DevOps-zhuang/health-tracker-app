<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="stylesheet" href="{{ url_for('static', filename='style.css') }}">
    <title>Import Health Data</title>
    <style>
        .form-group {
            margin-bottom: 15px;
        }
        .form-group label {
            display: block;
            margin-bottom: 5px;
            font-weight: bold;
        }
        .help-text {
            font-size: 0.9em;
            color: #666;
            margin-top: 2px;
        }
        .import-container {
            max-width: 800px;
            margin: 0 auto;
        }
        .format-options {
            margin-top: 20px;
            padding: 15px;
            background-color: #f9f9f9;
            border: 1px solid #ddd;
            border-radius: 5px;
        }
    </style>
</head>
<body>
    <div class="import-container">
        <h1>Import Health Data</h1>
        
        {% with messages = get_flashed_messages() %}
            {% if messages %}
                <div class="messages">
                    {% for message in messages %}
                        <div class="alert">{{ message }}</div>
                    {% endfor %}
                </div>
            {% endif %}
        {% endwith %}
        
        <div class="instructions">
            <h2>Instructions</h2>
            <p>Upload a file containing health data to import into the system. Supported file formats:</p>
            <ul>
                <li><strong>CSV</strong>: Comma-separated values file</li>
                <li><strong>Excel</strong>: .xlsx or .xls spreadsheet</li>
                <li><strong>Text</strong>: Custom delimited text file</li>
            </ul>
            <p>The file should contain the following columns:</p>
            <ul>
                <li><strong>timestamp</strong>: Date and time of the reading</li>
                <li><strong>systolic</strong>: Systolic blood pressure (100-200)</li>
                <li><strong>diastolic</strong>: Diastolic blood pressure (60-160)</li>
                <li><strong>heart_rate</strong>: Heart rate (50-200)</li>
                <li><strong>tags</strong>: Optional tags for the reading</li>
            </ul>
        </div>
        
        <form action="/import" method="POST" enctype="multipart/form-data">
            <div class="form-group">
                <label for="file">Select File:</label>
                <input type="file" id="file" name="file" required>
            </div>
            
            <div class="format-options">
                <div class="form-group">
                    <label for="format">File Format:</label>
                    <select id="format" name="format">
                        <option value="auto">Auto-detect</option>
                        <option value="csv">CSV</option>
                        <option value="excel">Excel</option>
                        <option value="text">Text (Custom Delimiter)</option>
                    </select>
                </div>
                
                <div class="form-group" id="delimiter-group">
                    <label for="delimiter">Delimiter:</label>
                    <input type="text" id="delimiter" name="delimiter" value="," maxlength="1">
                    <p class="help-text">Character used to separate values (default: comma)</p>
                </div>
                
                <div class="form-group">
                    <label for="date_format">Date Format:</label>
                    <input type="text" id="date_format" name="date_format" value="%Y-%m-%d %H:%M:%S">
                    <p class="help-text">Format: %Y (year), %m (month), %d (day), %H (hour), %M (minute), %S (second)</p>
                </div>
            </div>
            
            <button type="submit" class="btn-primary">Import Data</button>
            <a href="/" class="btn">Cancel</a>
        </form>
    </div>
    
    <script>
        // Show/hide delimiter based on format selection
        document.getElementById('format').addEventListener('change', function() {
            const delimiterGroup = document.getElementById('delimiter-group');
            delimiterGroup.style.display = (this.value === 'text') ? 'block' : 'none';
        });
        
        // Initialize visibility on page load
        document.addEventListener('DOMContentLoaded', function() {
            const format = document.getElementById('format');
            const delimiterGroup = document.getElementById('delimiter-group');
            delimiterGroup.style.display = (format.value === 'text') ? 'block' : 'none';
        });
    </script>
</body>
</html>
<!-- Generated by Copilot -->